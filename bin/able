#!/usr/bin/env ruby

require 'able'
require 'optparse'

project_options = {}

parser = OptionParser.new do |opts|
  opts.banner = "Usage: able [options] [targets]"

  opts.on "-C", "--src-dir", "Change source directory" do |value|
    project_options[:src_path] = value
  end

  opts.on "-B", "--build-dir", "Change build directory" do |value|
    project_options[:dst_path] = value
  end
end

parser.parse!

project = Able::Project.new project_options
project.bind_tasks

if ARGV and not ARGV.empty?
  ARGV.each do |target|
    project.do_task target
  end
else
  project.do_task
end

